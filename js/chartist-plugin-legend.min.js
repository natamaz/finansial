!function(a,b){"function"==typeof define&&define.amd?define(["chartist"],function(c){return a.returnExportsGlobal=b(c)}):"object"==typeof exports?module.exports=b(require("chartist")):a["Chartist.plugins.legend"]=b(a.Chartist)}(this,function(a){"use strict";var b={className:"",classNames:!1,removeAll:!1,legendNames:!1,clickable:!0,onClick:null,position:"top"};return a.plugins=a.plugins||{},a.plugins.legend=function(c){if(c&&c.position){if(!("top"===c.position||"bottom"===c.position||c.position instanceof HTMLElement))throw Error("The position you entered is not a valid position");if(c.position instanceof HTMLElement){var d=c.position;delete c.position}}return c=a.extend({},b,c),d&&(c.position=d),function(b){function d(){var a=b.container.querySelector(".ct-legend");a&&a.parentNode.removeChild(a)}function e(){b.data.series=b.data.series.map(function(c,d){return"object"!=typeof c&&(c={value:c}),c.className=c.className||b.options.classNames.series+"-"+a.alphaNumerate(d),c})}function f(){var d=document.createElement("ul");return d.className="ct-legend",b instanceof a.Pie&&d.classList.add("ct-legend-inside"),"string"==typeof c.className&&c.className.length>0&&d.classList.add(c.className),b.options.width&&(d.style.cssText="width: "+b.options.width+"px;margin: 0 auto;"),d}function g(a){return c.legendNames||(a?b.data.labels:b.data.series)}function h(a){for(var c=new Array(b.data.series.length),d=0;d<b.data.series.length;d++)c[d]={data:b.data.series[d],label:a?b.data.labels[d]:null,legend:-1};return c}function i(a,b,d){var e=document.createElement("li");return e.classList.add("ct-series-"+a),d&&e.classList.add(c.classNames[a]),e.setAttribute("data-legend",a),e.textContent=b,e}function j(a){if(c.position instanceof HTMLElement)c.position.insertBefore(a,null);else switch(c.position){case"top":b.container.insertBefore(a,b.container.childNodes[0]);break;case"bottom":b.container.insertBefore(a,null)}}function k(a,d,e,f){a.addEventListener("click",function(g){var h=g.target;if(h.parentNode===a&&h.hasAttribute("data-legend")){g.preventDefault();var i=parseInt(h.getAttribute("data-legend")),j=d[i];if(j.active){j.active=!1,h.classList.add("inactive");var k=d.filter(function(a){return a.active}).length;if(!c.removeAll&&0==k)for(var l=0;l<d.length;l++)d[l].active=!0,a.childNodes[l].classList.remove("inactive")}else j.active=!0,h.classList.remove("inactive");for(var m=[],n=[],l=0;l<e.length;l++)-1!=e[l].legend&&d[e[l].legend].active&&(m.push(e[l].data),n.push(e[l].label));b.data.series=m,f&&(b.data.labels=n),b.update(),c.onClick&&c.onClick(b,g)}})}d();var l=f(),m=b instanceof a.Pie&&b.data.labels&&b.data.labels.length,n=g(m),o=h(m),p=[],q=Array.isArray(c.classNames)&&c.classNames.length===n.length;n.forEach(function(a,b){var c=a.name||a,d=a.series||[b],e=i(b,c,q);l.appendChild(e),d.forEach(function(a){o[a].legend=b}),p.push({text:c,series:d,active:!0})}),b.on("created",function(a){j(l)}),c.clickable&&(e(),k(l,p,o,m))}},a.plugins.legend});