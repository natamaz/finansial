$(document).ready(function(){function a(){var a=0;$("#progress-bar li.active").each(function(){a+=1}),12>a?$(".countNum").text(a):$(".countNum").text("11")}function b(a){var b=$(a).parent().parent().find(".active");""!=b.find("input").val()&&(b.hasClass("first-question")?$(".back-question").show():b.hasClass("last-question")&&($(".next-question").hide(),$(".goToAccount").show(),$(".rememText").show()),b.removeClass("active").next().addClass("active"),e.Next())}function c(a){var b=$(a).parent().parent().find(".active");b.prev().hasClass("first-question")?$(".back-question").hide():b.hasClass("result")&&($(".next-question").show(),$(".goToAccount").hide(),$(".rememText").hide()),b.removeClass("active").prev().addClass("active"),e.Back()}function d(){var a,b,c,d=$("#ageValue").val();30>d?a=3:d>29&&55>d?a=2:d>54&&(a=1);var e=Number($("#maritalStatus input[type='radio']:checked").val()),f=Number($("#dependentMembers input[type='radio']:checked").val()),g=Number($("#financRespons input[type='radio']:checked").val()),h=Number($("#education input[type='radio']:checked").val()),i=Number($("#employment input[type='radio']:checked").val()),j=Number($("#position input[type='radio']:checked").val()),k=Number($("#healthProblems input[type='radio']:checked").val()),l=Number($("#moneyFor input[type='radio']:checked").val()),m=$("#withoutMoney").val();3>m?b=3:m>2&&13>m?b=2:m>12&&(b=1),costToIncome=$("#costToIncome").val(),costToIncome<60?c=3:costToIncome>59&&costToIncome<81?c=2:costToIncome>80&&(c=1);var n=a+e+f+g+h+i+j+k+l+b+c;console.log(a,e,f,g,h,i,j,k,l,b,c,n),$("#resultsTable li").each(function(){n>=$(this).data("min")&&n<=$(this).data("max")&&(num=$(this).data("num"),color=$(this).data("color"),$(".result__block .num").text(num).css("color",color))})}$("#ageValue[type=number]").keydown(function(a){var b=$(this).val();if(8!==a.which&&13!==a.which&&37!==a.which&&39!==a.which&&46!==a.which)if(a.which>47&&a.which<58&&b.length<2){var c=String.fromCharCode(a.which),d=parseInt(c),e=parseInt(b||"0"),f=e+d;(0>f||f>99)&&a.preventDefault(),"0"===b&&($(this).val(d),a.preventDefault())}else a.preventDefault()}),$("input[type=number]").on("click",function(){$(this).keydown(function(a){return a.which>=48&&a.which<=57||a.which>=96&&a.which<=105||8==a.which||a.which>=37&&a.which<=40||46==a.which?!0:!1})});var e={Bar:$("#progress-bar"),Next:function(){var a=$("#progress-bar li.active");a.next().addClass("active"),a.addClass("done")},Back:function(){var a=$("#progress-bar li.active");$("#progress-bar li").removeClass("active"),$("#progress-bar li").removeClass("done"),a.prev().addClass("active"),a.prev().prev().addClass("done")}};$(".questions .back-question").on("click",function(){c(event.target),a()}),$(".questions .next-question").on("click",function(){b(event.target),a(),d()})});